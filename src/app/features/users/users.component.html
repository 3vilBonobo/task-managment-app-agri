<div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold text-gray-700 text-center mb-6">Users</h1>

    <div class="overflow-x-auto shadow-lg rounded-xl border border-gray-200">
        <table class="w-full border-collapse bg-white rounded-xl">
            <thead class="bg-gradient-to-r from-blue-100 to-green-100 cursor-pointer">
                <tr class="text-gray-700 text-sm md:text-base">
                    <th class="px-4 py-3 text-left border-b cursor-pointer" (click)="sortData('id')">
                        ID <fa-icon [icon]="sortSign('id')"></fa-icon>
                    </th>
                    <th class="px-4 py-3 text-left border-b" (click)="sortData('username')">Username <fa-icon
                            [icon]="sortSign('username')"></fa-icon></th>
                    <th class="px-4 py-3 text-left border-b" (click)="sortData('password')">Password <fa-icon
                            [icon]="sortSign('password')"></fa-icon></th>
                    <th class="px-4 py-3 text-left border-b" (click)="sortData('name')">Name <fa-icon
                            [icon]="sortSign('name')"></fa-icon></th>
                    <th class="px-4 py-3 text-left border-b hidden md:table-cell" (click)="sortData('surname')">
                        Surname <fa-icon [icon]="sortSign('surname')"></fa-icon>
                    </th>
                    <th class="px-4 py-3 text-left border-b hidden md:table-cell" (click)="sortData('email')">
                        Email <fa-icon [icon]="sortSign('email')"></fa-icon></th>
                    <th class="px-4 py-3 text-left border-b hidden lg:table-cell"
                        (click)="sortData('registrationDate')">Registration Date <fa-icon
                            [icon]="sortSign('registrationDate')"></fa-icon>
                    </th>
                    <th class="px-4 py-3 text-left border-b" (click)="sortData('isActive')">Status <fa-icon
                            [icon]="sortSign('isActive')"></fa-icon></th>
                </tr>
            </thead>
            <tbody>
                @for (user of sortedUsers(); track user.id) {
                <tr class="border-b hover:bg-blue-50 transition duration-200 cursor-pointer" (click)="openModal(user)">
                    <td class="px-4 py-3">{{ user.id }}</td>
                    <td class="px-4 py-3 font-medium text-blue-600">{{ user.username }}</td>
                    <td class="px-4 py-3">{{ user.password }}</td>
                    <td class="px-4 py-3">{{ user.name }}</td>
                    <td class="px-4 py-3 hidden md:table-cell">{{ user.surname }}</td>
                    <td class="px-4 py-3 hidden md:table-cell">{{ user.email }}</td>
                    <td class="px-4 py-3 hidden lg:table-cell">{{ user.registrationDate | date:'yyyy-MM-dd' }}</td>
                    <td class="px-4 py-3">
                        <span class="px-3 py-1 rounded-lg text-xs font-semibold" [class.bg-green-100]="user.isActive"
                            [class.text-green-700]="user.isActive" [class.bg-red-100]="!user.isActive"
                            [class.text-red-700]="!user.isActive">
                            {{ user.isActive ? 'Active' : 'Inactive' }}
                        </span>
                    </td>
                </tr>
                }
                @empty {
                <tr>
                    <td colspan="6" class="px-4 py-3 text-center text-gray-500">There are no users.</td>
                </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- User Modal -->
    @if (selectedUser()) {
    <app-user-modal [user]="selectedUser()" (close)="closeModal()"></app-user-modal>
    }


</div>